<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qu·∫£n l√Ω kho h√†ng</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <h1>üì¶ Danh s√°ch v·∫≠t t∆∞ trong kho</h1>
  <table border="1" cellpadding="8" id="inventoryTable">
    <thead>
      <tr>
        <th>V·ªã tr√≠</th>
        <th>M√£ v·∫≠t li·ªáu</th>
        <th>Size</th>
        <th>S·ªë l∆∞·ª£ng</th>
        <th>Ng√†y GR</th>
        <th>QR Code</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const SUPABASE_URL = "D√ÅN_URL_SUPABASE_V√ÄO_ƒê√ÇY";
    const SUPABASE_KEY = "D√ÅN_PUBLIC_KEY_V√ÄO_ƒê√ÇY";
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function loadData() {
      const { data, error } = await supabase.from('inventory_items').select('*');
      if (error) {
        alert('L·ªói t·∫£i d·ªØ li·ªáu: ' + error.message);
        return;
      }

      const tbody = document.querySelector('#inventoryTable tbody');
      tbody.innerHTML = '';

      data.forEach(item => {
        const row = document.createElement('tr');
        row.innerHTML = `
          <td>${item.vi_tri}</td>
          <td>${item.ma_vat_lieu}</td>
          <td>${item.size}</td>
          <td>${item.so_luong}</td>
          <td>${item.ngay_gr}</td>
          <td><a href="${item.qr_code}" target="_blank">Xem QR</a></td>
        `;
        tbody.appendChild(row);
      });
    }

    loadData();
  </script>
</body>
</html>
